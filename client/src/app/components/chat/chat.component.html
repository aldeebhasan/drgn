<!-- Main Chat Area -->
<div class="flex flex-col h-screen">
  <!-- Chat Header -->
  <header class="bg-white p-4 text-gray-700 flex justify-between items-center border-b-2 border-b-indigo-100">
    <h1 class="text-2xl font-semibold   ">Community</h1>
    <button type="submit" (click)="logout()" class="bg-red-500 text-white px-2 py-1  rounded-lg sm:mb-0 cursor-pointer sm:hidden">Logout ({{sender?.name}})</button>
  </header>

  <!-- Chat Messages -->
  <div #chatWindow class="h-full overflow-y-auto p-4">
    <!-- Incoming Message -->
    <app-message
      *ngFor="let message of messages"
      class="flex mb-4 cursor-pointer  "
      [ngClass]="{'justify-end': isLocal(message)}"
      [message]="message"
    >
    </app-message>


  </div>

  <!-- Chat Input -->
  <footer class="bg-white border-t border-gray-300 p-4 w-full">
    <div class="flex items-center">
      <input [(ngModel)]="newMessage" (keyup.enter)="sendTextMessage()" placeholder="Type a message..." autofocus
             class="w-full p-2 rounded-md border border-gray-400 focus:outline-none focus:border-blue-500" />

      <label for="uploadFile1"
             class="flex bg-gray-800 hover:bg-gray-700 text-white text-base px-4 py-2  ml-2 outline-none rounded-md  w-max cursor-pointer mx-auto font-[sans-serif]">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 mr-2 fill-white inline" viewBox="0 0 32 32">
          <path
            d="M23.75 11.044a7.99 7.99 0 0 0-15.5-.009A8 8 0 0 0 9 27h3a1 1 0 0 0 0-2H9a6 6 0 0 1-.035-12 1.038 1.038 0 0 0 1.1-.854 5.991 5.991 0 0 1 11.862 0A1.08 1.08 0 0 0 23 13a6 6 0 0 1 0 12h-3a1 1 0 0 0 0 2h3a8 8 0 0 0 .75-15.956z"
            data-original="#000000" />
          <path
            d="M20.293 19.707a1 1 0 0 0 1.414-1.414l-5-5a1 1 0 0 0-1.414 0l-5 5a1 1 0 0 0 1.414 1.414L15 16.414V29a1 1 0 0 0 2 0V16.414z"
            data-original="#000000" />
        </svg>
        Upload
        <input (change)="sendImageMessage($event)" accept="image/*"
               type="file" id='uploadFile1' class="hidden" />
      </label>

      <button class="bg-indigo-500 text-white px-4 py-2 rounded-md ml-2 cursor-pointer" (click)="sendTextMessage()">Send</button>
    </div>
  </footer>
</div>
