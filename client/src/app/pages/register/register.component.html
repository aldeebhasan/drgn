<div class="min-h-screen flex flex-col justify-center items-center">
    <img src="/assets/logo@full.png" alt="Drgn" class="h-30" />
    <div
        class="relative w-full max-w-md bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200 transition-all duration-500 hover:shadow-lg z-10"
    >
        <div class="flex border-b border-gray-200">
            <button
                (click)="setAuthMode('guest')"
                class="flex-1 py-4 px-6 text-center font-medium transition-all duration-300 cursor-pointer"
                [class]="activeTab === 'guest' ? 'text-green-600 bg-green-50' : 'text-gray-500 hover:text-gray-600'"
            >
                Guest
            </button>
            <button
                (click)="setAuthMode('register')"
                class="flex-1 py-4 px-6 text-center font-medium transition-all duration-300 cursor-pointer"
                [class]="activeTab === 'register' ? 'text-green-600 bg-green-50' : 'text-gray-500 hover:text-gray-600'"
            >
                Register
            </button>
            <button
                (click)="setAuthMode('login')"
                class="flex-1 py-4 px-6 text-center font-medium transition-all duration-300 cursor-pointer"
                [class]="activeTab === 'login' ? 'text-green-600 bg-green-50' : 'text-gray-500 hover:text-gray-600'"
            >
                Login
            </button>
        </div>
        <div class="p-8">
            <div class="h-fit pb-4 relative" id="form">
                <form [formGroup]="form" (ngSubmit)="submitForm()">
                    <div class="space-y-2 mb-1 sm:mb-4" *ngIf="activeTab !== 'login'">
                        <label class="block text-sm font-medium text-gray-700">
                            Your Name
                            <span class="text-red-600 p-1 text-xs" *ngIf="form?.get('name')?.invalid && form?.get('name')?.touched">
                                (Required & at least 3 characters)
                            </span>
                        </label>
                        <input
                            type="text"
                            formControlName="name"
                            autocomplete="given-name"
                            placeholder="Your name"
                            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-50 transition-all"
                        />
                    </div>

                    <div class="space-y-2 mb-1 sm:mb-4" *ngIf="activeTab !== 'guest'">
                        <label class="block text-sm font-medium text-gray-700">
                            Email
                            <span class="text-red-600 p-1 text-xs" *ngIf="form?.get('email')?.invalid && form?.get('email')?.touched">
                                (Valid email required)
                            </span>
                        </label>
                        <input
                            type="email"
                            formControlName="email"
                            autocomplete="email"
                            placeholder="Your email"
                            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-50 transition-all"
                        />
                    </div>

                    <div class="space-y-2 mb-1 sm:mb-4" *ngIf="activeTab !== 'guest'">
                        <label class="block text-sm font-medium text-gray-700">
                            Password
                            <span class="text-red-600 p-1 text-xs" *ngIf="form?.get('password')?.invalid && form?.get('password')?.touched">
                                (Password is required)
                            </span>
                        </label>
                        <input
                            type="password"
                            formControlName="password"
                            autocomplete="current-password"
                            placeholder="••••••••"
                            class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-50 transition-all"
                        />
                    </div>

                    <div class="text-center pt-4">
                        <button type="submit" class="w-full bg-green-600 focus:bg-green-700 text-white px-6 py-3 font-xl rounded-xl sm:mb-0 cursor-pointer">
                            {{ activeTab === "login" ? "Login" : "Register" }}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Footer note -->
    <p class="mt-8 text-gray-700 text-sm text-center max-w-md">DRGN © 2025 | Created by <a class="underline" href="mailto:aldeeb.91@gmail.com">Aldeeb</a></p>
</div>
